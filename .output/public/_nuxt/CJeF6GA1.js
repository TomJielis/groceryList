import{j as i}from"./CXT9O0q4.js";function u(){const t=i();async function o(e){try{const r=await fetch("/api/user/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error(`Failed to register user: ${r.statusText}`);const n=await r.json();t.setUser(n.user)}catch(r){console.error("Error registering user:",r)}}async function s(e){try{const r=await fetch("/api/user/login/",{method:"POST",headers:{"Content-Type":"application/json",withCredentials:"true"},body:JSON.stringify(e)});if(!r.ok)throw new Error(`Failed to register user: ${r.statusText}`);return await r.json()}catch(r){console.error("Error registering user:",r)}}return{login:s,register:o}}export{u};

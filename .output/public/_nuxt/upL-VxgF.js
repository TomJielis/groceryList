import{u as w}from"./kpxKKGzK.js";import{f as v,g as L,r as x,c as d,o as c,a as e,F as B,h as S,t as p,i as a,j,k as q,b as g,l as F,m as N}from"./CXT9O0q4.js";const V={class:"bg-white rounded-lg shadow p-6"},A={class:"divide-y divide-gray-200"},D={class:"flex-1 text-left"},G={class:"flex-1 text-right"},U=v({__name:"topItems",async setup(k){let s,r;const{items:u,fetchItems:m}=w();[s,r]=L(()=>m()),await s,r();let i=x(u.value.filter(n=>!n.checked).sort((n,l)=>l.quantity-n.quantity).slice(0,5));return(n,l)=>(c(),d("div",V,[l[0]||(l[0]=e("div",{class:"flex justify-between mb-4"},[e("span",{class:"text-gray-500 flex-1 text-left"},"Item"),e("span",{class:"text-gray-500 flex-1 text-right"},"Quantity")],-1)),e("ul",A,[(c(!0),d(B,null,S(a(i),_=>(c(),d("li",{class:"py-2 flex justify-center items-center text-center",key:_.name},[e("span",D,p(_.name),1),e("span",G,p(_.quantity),1)]))),128))])]))}}),E={class:"bg-white rounded-lg shadow p-6 flex flex-col items-center"},O={class:"text-4xl font-bold text-green-600"},Q={class:"text-gray-500 mt-2"},y=v({__name:"dashboardBlock",props:{title:{},count:{}},setup(k){return(s,r)=>(c(),d("div",E,[e("span",O,p(s.count),1),e("span",Q,p(s.title),1)]))}}),R={class:"h-[90vh] bg-gray-50 p-8 overflow-auto"},z={class:"max-w-3xl mx-auto"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},M=v({__name:"index",async setup(k){var $;let s,r;const u=j(),m=q();u.user||m.push("/auth/login");const{lists:i,fetchLists:n}=w();[s,r]=L(()=>n()),await s,r();let l=x(i.value.reduce((o,t)=>o+(t.grocery_list_items_count-t.grocery_list_items_checked_count),0)),_=x(i.value.length??0);console.log(i);const f=($=u.user)==null?void 0:$.favorite_list_id,I=f?`/list/${f}`:"/list/lists",h=i.value.filter(o=>o.id===f)[0]??{grocery_list_items_count:0,grocery_list_items_checked_count:0},C=h.grocery_list_items_count-h.grocery_list_items_checked_count;return(o,t)=>(c(),d("div",R,[e("div",z,[t[3]||(t[3]=e("h1",{class:"text-3xl font-bold text-green-700 mb-6 text-center"}," Grocery Shopping List Dashboard ",-1)),e("div",H,[g(y,{title:"total items to buy",count:a(l),onClick:t[0]||(t[0]=b=>o.$router.push("/list/lists")),class:"cursor-pointer"},null,8,["count"]),a(u).user.favorite_list_id>0?(c(),F(y,{key:0,title:C+" items to buy",count:" ⭐"+a(h).name,onClick:t[1]||(t[1]=b=>o.$router.push(a(I))),class:"cursor-pointer"},null,8,["title","count"])):N("",!0),g(y,{title:"Lists",onClick:t[2]||(t[2]=b=>o.$router.push("/list/lists")),count:parseInt(a(_)),class:"cursor-pointer"},null,8,["count"])]),g(U)])]))}});export{M as default};

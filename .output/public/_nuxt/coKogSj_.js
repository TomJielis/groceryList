import{n as H,f as V,p as Z,q as X,r as _,s as j,c as o,a as t,v as N,x as F,F as T,h as $,o as l,t as g,g as q,b as S,m as z,w as L,T as G,i as d,y,z as M,_ as R}from"./CXT9O0q4.js";import{u as I}from"./kpxKKGzK.js";const W=[{name:"Koffie"},{name:"Suiker"},{name:"paprika"},{name:"fudge"},{name:"Rijst"},{name:"Brenta"},{name:"Yoghurt"},{name:"Kookroom"},{name:"Ui"},{name:"Avocado"},{name:"Kaas"},{name:"Mango"},{name:"Boter"},{name:"Gecondenseerde melk"},{name:"Mayonaise"},{name:"Handzeep"},{name:"Winterglow"},{name:"Pickwick earl grey"},{name:"Honing"},{name:"Zout"},{name:"Zakdoekjes"},{name:"Kaas"},{name:"Ham"},{name:"Danio"},{name:"Danio"},{name:"Pasta"},{name:"Penne"},{name:"Mozzarella"},{name:"Pesto"},{name:"Tomatensaus"},{name:"Groente bouillon"},{name:"Kip"},{name:"Yakult"},{name:"Vla"},{name:"Griekse yoghurt"},{name:"Aarbeien"},{name:"Banaan"},{name:"Appel"},{name:"Komkommer"},{name:"Knoflook"},{name:"Peterselie"},{name:"Basilicum"},{name:"Oregano"},{name:"Paprika poeder"},{name:"Kerrie poeder"},{name:"Kaneel"},{name:"Chili poeder"},{name:"Zwarte peper"},{name:"Olijfolie"},{name:"Zonnebloemolie"},{name:"Azijn"},{name:"Sojasaus"},{name:"Mosterd"},{name:"Ketchup"},{name:"Tandpasta"},{name:"Shampoo"},{name:"Douchegel"},{name:"Toiletpapier"},{name:"Wasmiddel"},{name:"Vaatwasmiddel"},{name:"Schoonmaakmiddel"},{name:"Afwasmiddel"},{name:"Keukenpapier"},{name:"Aluminiumfolie"},{name:"Plasticfolie"},{name:"Zakken"},{name:"Koffiepads"},{name:"Theezakjes"},{name:"Snoepjes"},{name:"Chips"},{name:"Noten"},{name:"Gedroogd fruit"},{name:"Muesli"},{name:"Havermout"},{name:"Granola"},{name:"Pindakaas"},{name:"Nutella"},{name:"Jam"},{name:"Honing"},{name:"Suiker"},{name:"Zout"},{name:"Peper"},{name:"Bakpoeder"},{name:"Baksoda"},{name:"Bloem"},{name:"Maizena"},{name:"Rijstmeel"},{name:"Kokosmelk"},{name:"Tomatenpuree"},{name:"Bouillonblokjes"},{name:"Kruidenmixen"},{name:"Pasta saus"}],{items:E,fetchItems:U}=I(),Y=H("suggestions",{state:()=>({defaultSuggestions:[],userSuggestions:[],loading:!1}),getters:{combinedSuggestions(u){const r=[...u.defaultSuggestions,...u.userSuggestions],p=new Set;return r.filter(w=>{const h=w.name.toLowerCase();return p.has(h)?!1:(p.add(h),!0)})}},actions:{async fetchSuggestions(){await U(),this.loading=!0;try{this.defaultSuggestions=W;const u=E.value;this.userSuggestions=Array.isArray(u)?u.filter(r=>r.checked).map(r=>({name:r.name,checked:!1})):[]}catch(u){console.error("Fout bij ophalen suggesties:",u)}finally{this.loading=!1}}}}),J={class:"min-h-screen"},Q={class:"flex-auto overflow-y-auto p-4"},ee={class:"items-center flex-col"},te={class:"space-y-3"},se={class:"flex items-center space-x-2"},ne=["onClick"],ae={class:"text-sm sm:text-base md:text-lg"},oe={class:"fixed bottom-0 left-0 w-full mt-6 space-y-3 p-4"},le=V({__name:"AddItemListForm",emits:["item-added","close"],setup(u,{emit:r}){const{addItem:p}=I(),w=r,h=Y();Z(()=>{h.fetchSuggestions()});const x=X().params.id,c=_("");async function b(m){const i=m.trim();i&&(await p(i,x),c.value="",w("item-added"))}const v=j(()=>{const m=h.combinedSuggestions.filter(a=>a.name.toLowerCase().includes(c.value.toLowerCase())),i=m.some(a=>a.name.toLowerCase()===c.value.toLowerCase());return c.value&&!i?[{name:c.value,checked:!1},...m]:m});return(m,i)=>(l(),o("div",J,[t("div",Q,[t("div",ee,[N(t("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=a=>c.value=a),placeholder:"Enter new item",class:"w-full mb-3 px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-base sm:text-lg md:text-xl"},null,512),[[F,c.value]]),t("ul",te,[(l(!0),o(T,null,$(v.value,a=>(l(),o("li",{key:a.name,class:"flex items-center justify-between bg-white rounded-xl shadow-sm p-3 sm:p-4 md:p-5"},[t("div",se,[t("button",{onClick:K=>b(a.name),class:"text-lg sm:text-xl md:text-2xl"},g(a.checked?"âœ”ï¸":"âž•"),9,ne),t("span",ae,g(a.name),1)])]))),128))])])]),t("div",oe,[t("button",{class:"w-full py-3 rounded-xl bg-gray-200 text-gray-700 font-medium text-base hover:bg-gray-300 transition",onClick:i[1]||(i[1]=a=>m.$emit("close"))}," â† Back ")])]))}}),ie={class:"max-w-sm p-4"},re={key:0},ce={class:"space-y-3 mb-20"},me=["onTouchstart","onTouchmove","onTouchend"],de=["checked","onChange"],ue={class:"flex items-center space-x-2"},fe=["onClick"],he={class:"text-sm sm:text-base font-semibold min-w-[20px] sm:min-w-[24px] text-center"},ge=["onClick"],pe={key:1,class:"space-y-3 mt-4"},xe=["onTouchstart","onTouchmove","onTouchend"],ke=["checked","onChange"],we={class:"flex items-center space-x-2"},be=["onClick"],ve={class:"text-sm sm:text-base font-semibold min-w-[20px] sm:min-w-[24px] text-center"},ye=["onClick"],_e={key:1},Ce=V({__name:"[id]",async setup(u){let r,p;const h=X().params.id,k=_(!1),x=_(!1),{items:c,fetchItems:b,increaseItems:v,decreaseItems:m,clearItem:i,checked:a}=I();[r,p]=q(()=>b(h)),await r,p();function K(){k.value=!1,b(h)}const D=j(()=>c.value.filter(f=>!f.checked)),C=j(()=>c.value.filter(f=>f.checked)),A=_(0);function B(f,n){A.value=f.touches[0].clientX,n.swipeOffset=0}function O(f,n){const s=f.touches[0].clientX-A.value;s<0&&(n.swipeOffset=s)}function P(f,n){n.swipeOffset<-window.innerWidth/2?i(n):n.swipeOffset=0}return(f,n)=>(l(),o("div",ie,[n[3]||(n[3]=t("h1",{class:"text-2xl font-bold mb-4 text-center"},"ðŸ›’ Grocery list",-1)),k.value?(l(),o("div",_e,[S(le,{onItemAdded:K,onClose:n[2]||(n[2]=e=>k.value=!1)})])):(l(),o("div",re,[t("ul",ce,[S(G,{name:"fade",tag:"ul",class:"space-y-3 mb-20"},{default:L(()=>[(l(!0),o(T,null,$(d(D),e=>(l(),o("li",{key:e.id,class:"flex items-center justify-between bg-white rounded-xl shadow-sm p-3 active:shadow-md transition relative overflow-hidden",onTouchstart:s=>B(s,e),onTouchmove:s=>O(s,e),onTouchend:s=>P(s,e)},[t("div",{class:"absolute inset-0 bg-red-200 text-white flex items-center justify-center transition-opacity",style:y({opacity:e.swipeOffset<0?1:0})}," Verwijderen ",4),t("div",{class:"relative flex items-center flex-1 transition-transform",style:y({transform:`translateX(${e.swipeOffset||0}px)`})},[t("input",{type:"checkbox",class:"h-6 w-6 text-green-600 rounded flex-shrink-0",checked:e.checked,onChange:s=>{d(a)({...e,checked:s.target.checked}),e.checked=s.target.checked}},null,40,de),t("span",{class:M(["text-base font-medium break-words whitespace-normal ml-2",{"line-through text-gray-500":e.checked}])},g(e.name),3)],4),t("div",ue,[t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>d(m)(e)},"âˆ’ ",8,fe),t("span",he,g(e.quantity||1),1),t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>d(v)(e)},"+ ",8,ge)])],40,me))),128))]),_:1}),d(C).length?(l(),o("p",{key:0,class:"text-center text-gray-700 mt-4 cursor-pointer hover:underline",onClick:n[0]||(n[0]=e=>x.value=!x.value)},g(x.value?"Hide":"Show")+" checked items ("+g(d(C).length)+") ",1)):z("",!0),x.value?(l(),o("ul",pe,[S(G,{name:"fade",tag:"ul",class:"space-y-3 mb-20"},{default:L(()=>[(l(!0),o(T,null,$(d(C),e=>(l(),o("li",{key:e.id,class:"flex items-center justify-between bg-white rounded-xl shadow-sm p-3 active:shadow-md transition relative overflow-hidden",onTouchstart:s=>B(s,e),onTouchmove:s=>O(s,e),onTouchend:s=>P(s,e)},[t("div",{class:"absolute inset-0 bg-red-200 text-white flex items-center justify-center transition-opacity",style:y({opacity:e.swipeOffset<0?1:0})}," Verwijderen ",4),t("div",{class:"relative flex items-center flex-1 transition-transform",style:y({transform:`translateX(${e.swipeOffset||0}px)`})},[t("input",{type:"checkbox",class:"h-6 w-6 text-green-600 rounded flex-shrink-0",checked:e.checked,onChange:s=>{d(a)({...e,checked:s.target.checked}),e.checked=s.target.checked}},null,40,ke),t("span",{class:M(["text-base font-medium break-words whitespace-normal ml-2",{"line-through text-gray-500":e.checked}])},g(e.name),3)],4),t("div",we,[t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>d(m)(e)},"âˆ’ ",8,be),t("span",ve,g(e.quantity||1),1),t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>d(v)(e)},"+ ",8,ye)])],40,xe))),128))]),_:1})])):z("",!0)]),t("button",{class:"fixed bottom-6 right-6 bg-blue-500 text-white w-14 h-14 flex items-center justify-center rounded-full shadow-lg hover:bg-blue-600 active:scale-95 transition",onClick:n[1]||(n[1]=e=>k.value=!0)}," âž• ")]))]))}}),Te=R(Ce,[["__scopeId","data-v-05ff90e5"]]);export{Te as default};

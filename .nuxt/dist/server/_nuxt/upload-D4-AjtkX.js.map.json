{"file":"upload-D4-AjtkX.js","mappings":";;;;;;;;AAIA,UAAM,WAAW,IAAI;AAAA,MACnB,OAAO;AAAA,MACP,YAAY;AAAA,IAAA,CACb;AAGc,cAAA;;mBAgCRA,eAAAC,WAAA,EAAA,OAAM,cAAU,MAAA,CAAA,4HAKFC,cAAA,SAAA,SAAA,MAAS,KAAK;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr"],"sources":["../../../../pages/cards/upload.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { useCards } from \"~/composables/useCards\"; // werkt in Nuxt\nimport {useRouter} from \"vue-router\";\nconst formData = ref({\n  title: \"\",\n  attachment: null as File | null,\n});\n\nconst { storeCard } = useCards();\nconst router = useRouter();\nfunction handleFileChange(event: Event) {\n  const target = event.target as HTMLInputElement;\n  if (target.files && target.files[0]) {\n    formData.value.attachment = target.files[0];\n  }\n}\n\nfunction handleSubmit() {\n  if (!formData.value.attachment) return;\n\n  const reader = new FileReader();\n  reader.onload = () => {\n    const base64 = reader.result as string;\n\n    storeCard({\n      title: formData.value.title,\n      attachment: base64,\n    });\n\n    // Reset form\n    formData.value = {\n      title: \"\",\n      attachment: null,\n    };\n\n    router.push('/');\n  };\n  reader.readAsDataURL(formData.value.attachment);\n}\n</script>\n<template>\n  <div class=\"h-[90vh]\">\n    <form @submit.prevent=\"handleSubmit\" class=\"space-y-4 p-4\">\n      <div>\n        <label for=\"title\" class=\"block text-sm font-medium text-gray-700\">Title</label>\n        <input\n            v-model=\"formData.title\"\n            type=\"text\"\n            id=\"title\"\n            required\n            class=\"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-base sm:text-lg\"\n        />\n      </div>\n      <div>\n        <label for=\"attachment\" class=\"block text-sm font-medium text-gray-700\">Image</label>\n        <input\n            @change=\"handleFileChange\"\n            type=\"file\"\n            id=\"attachment\"\n            required\n            class=\"w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-base sm:text-lg\"\n        />\n      </div>\n      <button\n          type=\"submit\"\n          class=\"w-full py-3 rounded-xl bg-blue-600 text-white font-medium text-base hover:bg-blue-700 transition\"\n      >\n        Save\n      </button>\n    </form>\n  </div>\n</template>"],"version":3}
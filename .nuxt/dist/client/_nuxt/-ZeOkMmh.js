import{n as U,f as Z,p as J,q as F,r as S,s as B,c as l,o as c,a as t,v as Q,x as ee,F as O,h as P,m as I,y as z,i as o,t as h,g as te,b as K,w as D,T as H,z as $,_ as se}from"./B1RyEDXr.js";import{u as M,a as ne}from"./BhRo35As.js";const ae=[{name:"Koffie"},{name:"Suiker"},{name:"paprika"},{name:"fudge"},{name:"Rijst"},{name:"Brenta"},{name:"Yoghurt"},{name:"Kookroom"},{name:"Ui"},{name:"Avocado"},{name:"Kaas"},{name:"Mango"},{name:"Boter"},{name:"Gecondenseerde melk"},{name:"Mayonaise"},{name:"Handzeep"},{name:"Winterglow"},{name:"Pickwick earl grey"},{name:"Honing"},{name:"Zout"},{name:"Zakdoekjes"},{name:"Kaas"},{name:"Ham"},{name:"Danio"},{name:"Danio"},{name:"Pasta"},{name:"Penne"},{name:"Mozzarella"},{name:"Pesto"},{name:"Tomatensaus"},{name:"Groente bouillon"},{name:"Kip"},{name:"Yakult"},{name:"Vla"},{name:"Griekse yoghurt"},{name:"Aarbeien"},{name:"Banaan"},{name:"Appel"},{name:"Komkommer"},{name:"Knoflook"},{name:"Peterselie"},{name:"Basilicum"},{name:"Oregano"},{name:"Paprika poeder"},{name:"Kerrie poeder"},{name:"Kaneel"},{name:"Chili poeder"},{name:"Zwarte peper"},{name:"Olijfolie"},{name:"Zonnebloemolie"},{name:"Azijn"},{name:"Sojasaus"},{name:"Mosterd"},{name:"Ketchup"},{name:"Tandpasta"},{name:"Shampoo"},{name:"Douchegel"},{name:"Toiletpapier"},{name:"Wasmiddel"},{name:"Vaatwasmiddel"},{name:"Schoonmaakmiddel"},{name:"Afwasmiddel"},{name:"Keukenpapier"},{name:"Aluminiumfolie"},{name:"Plasticfolie"},{name:"Zakken"},{name:"Koffiepads"},{name:"Theezakjes"},{name:"Snoepjes"},{name:"Chips"},{name:"Noten"},{name:"Gedroogd fruit"},{name:"Muesli"},{name:"Havermout"},{name:"Granola"},{name:"Pindakaas"},{name:"Nutella"},{name:"Jam"},{name:"Honing"},{name:"Suiker"},{name:"Zout"},{name:"Peper"},{name:"Bakpoeder"},{name:"Baksoda"},{name:"Bloem"},{name:"Maizena"},{name:"Rijstmeel"},{name:"Kokosmelk"},{name:"Tomatenpuree"},{name:"Bouillonblokjes"},{name:"Kruidenmixen"},{name:"Pasta saus"}],{items:oe,fetchItems:re}=M(),le=U("suggestions",{state:()=>({defaultSuggestions:[],userSuggestions:[],loading:!1}),getters:{combinedSuggestions(g){const p=[...g.defaultSuggestions,...g.userSuggestions],w=new Set;return p.filter(m=>{const b=m.name.toLowerCase();return w.has(b)?!1:(w.add(b),!0)})}},actions:{async fetchSuggestions(){await re(),this.loading=!0;try{this.defaultSuggestions=ae;const g=oe.value;this.userSuggestions=Array.isArray(g)?g.filter(p=>p.checked).map(p=>({name:p.name,checked:!1})):[]}catch(g){console.error("Fout bij ophalen suggesties:",g)}finally{this.loading=!1}}}}),ce={class:"min-h-screen"},ie={class:"flex-auto overflow-y-auto p-4 pb-20"},me={class:"items-center flex-col"},de={class:"space-y-3"},ue={class:"flex items-center justify-between w-full"},fe={class:"flex items-center space-x-2"},he=["onClick"],ge={class:"text-sm sm:text-base md:text-lg"},pe={key:0,class:"flex items-center space-x-2"},we=["onClick"],xe={class:"text-sm sm:text-base font-semibold min-w-[20px] sm:min-w-[24px] text-center"},ke=["onClick"],ve={class:"fixed bottom-0 left-0 w-full mt-6 space-y-3 p-4"},be=Z({__name:"AddItemListForm",emits:["item-added","close"],setup(g,{emit:p}){const{addItem:w,items:m,fetchItems:b,increaseItems:x,decreaseItems:y}=M(),k=le();J(()=>{k.fetchSuggestions()});const T=F(),_=parseInt(T.params.id),u=S("");async function C(f){const d=f.trim();d&&(await w(d,_),await b(_),u.value="")}const j=B(()=>{const f=k.combinedSuggestions.filter(n=>n.name.toLowerCase().includes(u.value.toLowerCase())),d=f.some(n=>n.name.toLowerCase()===u.value.toLowerCase());return u.value&&!d?[{name:u.value,checked:!1},...f]:f});return b(_),(f,d)=>(c(),l("div",ce,[t("div",ie,[t("div",me,[Q(t("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=n=>u.value=n),placeholder:"Enter new item",class:"w-full mb-3 px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-base sm:text-lg md:text-xl"},null,512),[[ee,u.value]]),t("ul",de,[(c(!0),l(O,null,P(j.value,n=>{var L;return c(),l("li",{key:n.name,class:"flex items-center justify-between bg-white rounded-xl shadow-sm p-3 sm:p-4 md:p-5"},[t("div",ue,[t("div",fe,[t("button",{onClick:a=>C(n.name),class:z(o(m).some(a=>a.name.toLowerCase()===n.name.toLowerCase())?"text-green-500":"text-black")},h(o(m).filter(a=>!a.checked).some(a=>a.name.toLowerCase()===n.name.toLowerCase())?"✔️":"➕"),11,he),t("span",ge,h(n.name),1)]),o(m).filter(a=>!a.checked).some(a=>a.name.toLowerCase()===n.name.toLowerCase())?(c(),l("div",pe,[t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:a=>o(y)(o(m).find(v=>v.name.toLowerCase()===n.name.toLowerCase()))},"− ",8,we),t("span",xe,h(((L=o(m).find(a=>a.name.toLowerCase()===n.name.toLowerCase()))==null?void 0:L.quantity)??1),1),o(m).filter(a=>!a.checked).some(a=>a.name.toLowerCase()===n.name.toLowerCase())?(c(),l("button",{key:0,class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:a=>o(x)(o(m).find(v=>v.name.toLowerCase()===n.name.toLowerCase()))},"+ ",8,ke)):I("",!0)])):I("",!0)])])}),128))])])]),t("div",ve,[t("button",{class:"w-full py-3 rounded-xl bg-gray-200 text-gray-700 font-medium text-base hover:bg-gray-300 transition",onClick:d[1]||(d[1]=n=>f.$emit("close"))}," ← Back ")])]))}}),ye={class:"text-2xl font-bold mb-4 text-center"},_e={key:0},Ce={class:"space-y-3 mb-20"},Se=["onTouchstart","onTouchmove","onTouchend"],Te=["checked","onChange"],je={class:"flex items-center space-x-2"},Le=["onClick"],$e={class:"text-sm sm:text-base font-semibold min-w-[20px] sm:min-w-[24px] text-center"},Ie=["onClick"],Ae={key:1,class:"space-y-3 mt-4"},Ke=["onTouchstart","onTouchmove","onTouchend"],Be=["checked","onChange"],Oe={class:"flex items-center space-x-2"},Pe=["onClick"],ze={class:"text-sm sm:text-base font-semibold min-w-[20px] sm:min-w-[24px] text-center"},Me=["onClick"],Ve={key:1},Xe=Z({__name:"[id]",async setup(g){let p,w;const m=ne(),x=F().params.id,y=S(!1),k=S(!1),T=S(!1),_=S(0),{items:u,fetchItems:C,increaseItems:j,decreaseItems:f,clearItem:d,checked:n}=M();[p,w]=te(()=>C(x)),await p,w();function L(){y.value=!1,C(x)}const a=B(()=>u.value.filter(r=>!r.checked)),v=B(()=>u.value.filter(r=>r.checked));function N(r){_.value=r.touches[0].clientY}function q(r){r.touches[0].clientY-_.value>50&&(T.value=!0)}async function R(){T.value&&(T.value=!1,await C(x))}const V=S(0);function X(r,i){V.value=r.touches[0].clientX,i.swipeOffset=0}function G(r,i){const e=r.touches[0].clientX-V.value;e<0&&(i.swipeOffset=e)}function Y(r,i){i.swipeOffset<-window.innerWidth/2?d(i):i.swipeOffset=0}async function E(){y.value=!1,await C(x)}const W=m.lists.find(r=>r.id==parseInt(x));return(r,i)=>{var A;return c(),l("div",{class:"max-w-screen-xl p-4 overflow-y-auto",onTouchstart:N,onTouchmove:q,onTouchend:R},[t("h1",ye,"🛒 "+h((A=o(W))==null?void 0:A.name),1),y.value?(c(),l("div",Ve,[K(be,{onItemAdded:L,onClose:E})])):(c(),l("div",_e,[t("ul",Ce,[K(H,{name:"fade",tag:"ul",class:"space-y-3 mb-20"},{default:D(()=>[(c(!0),l(O,null,P(a.value,e=>(c(),l("li",{key:e.id,class:"flex items-center justify-between bg-white rounded-xl shadow-sm p-3 active:shadow-md transition relative overflow-hidden",onTouchstart:s=>X(s,e),onTouchmove:s=>G(s,e),onTouchend:s=>Y(s,e)},[t("div",{class:"absolute inset-0 bg-red-200 text-white flex items-center justify-center transition-opacity pointer-events-none",style:$({opacity:e.swipeOffset<0?1:0})}," Verwijderen ",4),t("div",{class:"relative flex items-center flex-1 transition-transform",style:$({transform:`translateX(${e.swipeOffset||0}px)`})},[t("input",{type:"checkbox",class:"h-6 w-6 text-green-600 rounded flex-shrink-0",checked:e.checked,onChange:s=>{o(n)({...e,checked:s.target.checked}),e.checked=s.target.checked}},null,40,Te),t("span",{class:z(["text-base font-medium break-words whitespace-normal ml-2",{"line-through text-gray-500":e.checked}])},h(e.name),3)],4),t("div",je,[t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>o(f)(e)}," − ",8,Le),t("span",$e,h(e.quantity||1),1),t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>o(j)(e)}," + ",8,Ie)])],40,Se))),128))]),_:1}),v.value.length?(c(),l("p",{key:0,class:"text-center text-gray-700 mt-4 cursor-pointer hover:underline",onClick:i[0]||(i[0]=e=>k.value=!k.value)},h(k.value?"Hide":"Show")+" checked items ("+h(v.value.length)+") ",1)):I("",!0),k.value?(c(),l("ul",Ae,[K(H,{name:"fade",tag:"ul",class:"space-y-3 mb-20"},{default:D(()=>[(c(!0),l(O,null,P(v.value,e=>(c(),l("li",{key:e.id,class:"flex items-center justify-between bg-white rounded-xl shadow-sm p-3 active:shadow-md transition relative overflow-hidden",onTouchstart:s=>X(s,e),onTouchmove:s=>G(s,e),onTouchend:s=>Y(s,e)},[t("div",{class:"absolute inset-0 bg-red-200 text-white flex items-center justify-center transition-opacity pointer-events-none",style:$({opacity:e.swipeOffset<0?1:0})}," Verwijderen ",4),t("div",{class:"relative flex items-center flex-1 transition-transform",style:$({transform:`translateX(${e.swipeOffset||0}px)`})},[t("input",{type:"checkbox",class:"h-6 w-6 text-green-600 rounded flex-shrink-0",checked:e.checked,onChange:s=>{o(n)({...e,checked:s.target.checked}),e.checked=s.target.checked}},null,40,Be),t("span",{class:z(["text-base font-medium break-words whitespace-normal ml-2",{"line-through text-gray-500":e.checked}])},h(e.name),3)],4),t("div",Oe,[t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>o(f)(e)}," − ",8,Pe),t("span",ze,h(e.quantity||1),1),t("button",{class:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-200 rounded-full text-base sm:text-lg font-bold hover:bg-gray-300",onClick:s=>o(j)(e)}," + ",8,Me)])],40,Ke))),128))]),_:1})])):I("",!0)]),t("button",{class:"fixed bottom-6 right-6 bg-blue-500 text-white w-14 h-14 flex items-center justify-center rounded-full shadow-lg hover:bg-blue-600 active:scale-95 transition",onClick:i[1]||(i[1]=e=>y.value=!0)}," ➕ ")]))],32)}}}),De=se(Xe,[["__scopeId","data-v-6fee0a0c"]]);export{De as default};

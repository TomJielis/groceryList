import{j as i}from"./B1RyEDXr.js";function u(){const o=i();async function s(t){const r=await fetch("/api/user/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Failed to register user: ${r.statusText}`);const e=await r.json();if(console.log(e),!e.user)throw new Error(e.error||"Register error");return o.setUser(e.user),e}async function n(t){const r=await fetch("/api/user/login/",{method:"POST",headers:{"Content-Type":"application/json",withCredentials:"true"},body:JSON.stringify(t)});if(!r.ok)throw new Error(`Failed to login user: ${r.statusText}`);let e=await r.json();if(!e.user)throw new Error(e.error||"Login failed");return e}return{login:n,register:s}}export{u};

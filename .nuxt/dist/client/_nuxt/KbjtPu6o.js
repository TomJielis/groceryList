import{u as B,a as A}from"./BhRo35As.js";import{f as $,g as x,r as k,c as u,o as a,a as e,F as D,h as G,t as d,i as l,j as U,k as E,b as v,l as I,m as S}from"./B1RyEDXr.js";import{u as O}from"./CbzlTfhZ.js";const Q={class:"bg-white rounded-lg shadow p-6"},R={class:"divide-y divide-gray-200"},z={class:"flex-1 text-left"},H={class:"flex-1 text-right"},J=$({__name:"topItems",async setup(b){let s,r;const{items:p,fetchItems:m}=B();[s,r]=x(()=>m()),await s,r();let f=k(p.value.filter(o=>!o.checked).sort((o,c)=>c.quantity-o.quantity).slice(0,5));return(o,c)=>(a(),u("div",Q,[c[0]||(c[0]=e("div",{class:"flex justify-between mb-4"},[e("span",{class:"text-gray-500 flex-1 text-left"},"Item"),e("span",{class:"text-gray-500 flex-1 text-right"},"Quantity")],-1)),e("ul",R,[(a(!0),u(D,null,G(l(f),i=>(a(),u("li",{class:"py-2 flex justify-center items-center text-center",key:i.name},[e("span",z,d(i.name),1),e("span",H,d(i.quantity),1)]))),128))])]))}}),K={class:"bg-white rounded-lg shadow p-6 flex flex-col items-center"},M={class:"text-4xl font-bold text-green-600"},P={class:"text-gray-500 mt-2"},_=$({__name:"dashboardBlock",props:{title:{},count:{}},setup(b){return(s,r)=>(a(),u("div",K,[e("span",M,d(s.count),1),e("span",P,d(s.title),1)]))}}),T={class:"h-[90vh] p-8 overflow-auto"},W={class:"max-w-3xl mx-auto"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},et=$({__name:"index",async setup(b){var L;let s,r;const{cards:p,getCards:m}=O();[s,r]=x(()=>m()),await s,r();const f=A(),o=U(),c=E();o.user||c.push("/auth/login");const{lists:i,fetchLists:j}=B();[s,r]=x(()=>j()),await s,r(),f.setList(i.value);let q=k(i.value.reduce((n,t)=>n+(t.grocery_list_items_count-t.grocery_list_items_checked_count),0)),F=k(i.value.length??0);const h=(L=o.user)==null?void 0:L.favorite_list_id,N=h?`/list/${h}`:"/list/lists",g=i.value.filter(n=>n.id===h)[0]??{grocery_list_items_count:0,grocery_list_items_checked_count:0},V=g.grocery_list_items_count-g.grocery_list_items_checked_count;return(n,t)=>{var w,C;return a(),u("div",T,[e("div",W,[t[4]||(t[4]=e("h1",{class:"text-3xl font-bold text-green-700 mb-6 text-center"}," Grocery Shopping List Dashboard ",-1)),e("div",X,[v(_,{title:"total items to buy",count:l(q),onClick:t[0]||(t[0]=y=>n.$router.push("/list/lists")),class:"cursor-pointer"},null,8,["count"]),v(_,{title:"cards",count:l(p).length,onClick:t[1]||(t[1]=y=>n.$router.push("/cards/")),class:"cursor-pointer"},null,8,["count"]),((w=l(o).user)==null?void 0:w.favorite_list_id)>0?(a(),I(_,{key:0,title:V+" items to buy",count:" ⭐"+l(g).name,onClick:t[2]||(t[2]=y=>n.$router.push(l(N))),class:"cursor-pointer"},null,8,["title","count"])):S("",!0),((C=l(o).user)==null?void 0:C.favorite_list_id)===null?(a(),I(_,{key:1,title:"Lists",onClick:t[3]||(t[3]=y=>n.$router.push("/list/lists")),count:parseInt(l(F)),class:"cursor-pointer"},null,8,["count"])):S("",!0)]),v(J)])])}}});export{et as default};
